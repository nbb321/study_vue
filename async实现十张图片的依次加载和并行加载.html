<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // let loadImg = (src) => {
        //     return new Promise((resolve, reject) => {
        //         let img = document.createElement('img')
        //         img.src = src
        //         document.body.appendChild(img)
        //         setTimeout(() => {
        //             resolve(true)
        //         }, 1000)
        //     })
        // }
        // const imgs = ['http://pic9.nipic.com/20100923/2531170_140325352643_2.jpg', 'http://pic17.nipic.com/20111101/3094309_171235018306_2.jpg', 'http://pic41.nipic.com/20140508/18609517_112216473140_2.jpg', 'http://pic21.nipic.com/20120613/9254256_085130546175_2.jpg', 'http://pic41.nipic.com/20140526/6961542_160731332191_2.jpg', 'http://pic21.nipic.com/20120428/9821123_210731511131_2.jpg',
        //     'http://pic41.nipic.com/20140503/18641501_163403406121_2.png', 'http://pic31.nipic.com/20130719/9885883_095141604000_2.jpg', 'http://pic26.nipic.com/20121219/2457331_085744965000_2.jpg'
        // ];
        // // 依次加载图片
        // async function arrImgs(imgs) {
        //     for (let key of imgs) {
        //         await loadImg(key)
        //     }
        // }
        // arrImgs(imgs);


       
        // Promise加载图片
        var loadImg = (url) => {
            return new Promise((resolve, reject) => {
                // 创建图片
                var img = new Image()
                // 加载成功
                img.onload = () => {
                    resolve(img)
                }
                // 图片加载
                img.onerror = () => {
                    reject(new Error("图片加载失败"))
                }
                img.src = url
            })
        }
        const arrImages = ['http://pic9.nipic.com/20100923/2531170_140325352643_2.jpg', 'http://pic17.nipic.com/20111101/3094309_171235018306_2.jpg', 'http://pic41.nipic.com/20140508/18609517_112216473140_2.jpg', 'http://pic21.nipic.com/20120613/9254256_085130546175_2.jpg', 'http://pic41.nipic.com/20140526/6961542_160731332191_2.jpg', 'http://pic21.nipic.com/20120428/9821123_210731511131_2.jpg',
            'http://pic41.nipic.com/20140503/18641501_163403406121_2.png', 'http://pic31.nipic.com/20130719/9885883_095141604000_2.jpg', 'http://pic26.nipic.com/20121219/2457331_085744965000_2.jpg'
        ];
        // 并行加载
        var loadImgAsync = (arrImages) => {
            arrImages.forEach(async (item) => {
                let img = await loadImg(item)
                document.body.appendChild(img)
            })
        }
        loadImgAsync(arrImages)
    </script>
</body>

</html>